name: Release

on:
  release:
    types: [published]

jobs: 
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
      - name: Zip Files
        uses: vimtor/action-zip@v1.2
        with:
          files: src/**
          dest: dist/Arachnophobia-${{ github.event.release.tag_name }}.zip
      - name: Upload GitHub release
        uses: AButler/upload-release-assets@v2.0
        with:
          files: 'dist/Arachnophobia-${{ github.event.release.tag_name }}.zip'
          repo-token: ${{ secrets.TOKEN_GITHUB }}
